Operators
=========

The classes are nested as follows:

.. graphviz::
    :name: operators
    :caption: nesting of the operator classes: solid lines means "has many",
                dashed lines means "creates"
    :align: center

    digraph G {
        bgcolor = transparent

        node [shape=box]
        OperatorGrid [label="OperatorGrid"];
        OperatorMaster [label="OperatorMaster" ];
        test, test1 [style=invis];
        Operator [label="Operator" ];
        PhysicalOperator [label="PhysicalOperator"];
        OperatorMember [label="OperatorMember"];

        {rank=same OperatorMaster test test1}
        {rank=same Operator PhysicalOperator}

        OperatorGrid -> OperatorMaster;
        OperatorMaster -> Operator  [weight=1000];
        Operator -> OperatorMember;
        Operator -> PhysicalOperator [style=dashed len=10];
        PhysicalOperator -> OperatorMember
        OperatorMaster -> test -> test1 [style=invis];
        test1 -> PhysicalOperator [weight=1000 style=invis];
    }

- :class:`~eko.operator_grid.OperatorGrid`:

    *  this is the master class which administrates all evolution kernel operator tasks
    *  it is instantiated once for each run
    *  it divides the given range of :math:`Q^2` into the necessary threshold crossings and
       creates a :class:`~eko.operator_grid.OperatorMaster` for each
    *  it recollects all necessary operators in the end to create the
       :class:`~eko.evolution_operator.PhysicalOperator`

- :class:`~eko.operator_grid.OperatorMaster`

    * this represents a configuration for a fixed number of flavours
    * it creates an :class:`~eko.evolution_operator.Operator` for each final scale :math:`Q^2`

- :class:`~eko.evolution_operator.Operator`

    * this represents a configuration for a fixed final scale :math:`Q^2`
    * this class is only used *internally*
    * its :class:`~eko.evolution_operator.OperatorMember` are only valid in the current
      threshold area

- :class:`~eko.evolution_operator.PhysicalOperator`

    * this is the exposed equivalent of :class:`~eko.evolution_operator.Operator`,
      i.e. it also lives at at fixed final scale
    * its :class:`~eko.evolution_operator.OperatorMember` are valid from the starting scale
      to the final scale

- :class:`~eko.evolution_operator.OperatorMember`

    * this represents a single evolution kernel operator
    * inside :class:`~eko.evolution_operator.Operator` they are in "raw" evolution basis, i.e.
      :math:`\tilde{\mathbf{E}}_S, \tilde{E}_{ns}^{\pm,v}`, and they never cross a threshold
    * inside :class:`~eko.evolution_operator.PhysicalOperator` they are in "true" evolution
      basis, i.e. they evolve e.g. :math:`\tilde V, \tilde T_3` etc., so they are a evetually
      a product of the "raw" basis (see :doc:`Matching Conditions </Physics/Matching>`)